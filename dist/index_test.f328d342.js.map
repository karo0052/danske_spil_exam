{"version":3,"sources":["static/garbage.json","index_test.js"],"names":["module","exports","window","addEventListener","init","console","log","myJsonImport","action","myJSON","playerHealth","collectedTrash","isGameOver","gameContainer","document","querySelector","windowClicked","createElements","forEach","element","newDiv","createElement","classList","add","dataset","status","style","backgroundImage","appendChild","placeElements","e","target","removeElement","incrementCounter","startGame","elementArray","querySelectorAll","clientWidth","counter","length","stringifyNumb","getCoordinateWithinBox","toString","transform","container","elem","Math","floor","random","playerHealthStatus","checkValidity","setTimeout","checkHealth","gameOver","addAnimation","Xpos","getBoundingClientRect","x","gameContainerXpos","pointerEvents","decreaseHealth","healthBar","backgroundColor","posX","textContent"],"mappings":"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","file":"index_test.f328d342.js","sourceRoot":"..","sourcesContent":["module.exports = [\n  \"plasticbag\",\n  \"chipsbag\",\n  \"candywrapper\",\n  \"candywrapper2\",\n  \"can\",\n  \"straw\",\n  \"battery\",\n  \"beerholder\",\n  \"milkcan\",\n  \"can2\",\n  \"tube\",\n  \"waterbottle\",\n  \"plasticbag\",\n  \"chipsbag\",\n  \"candywrapper\",\n  \"candywrapper2\",\n  \"can\",\n  \"straw\",\n  \"battery\",\n  \"beerholder\",\n  \"milkcan\",\n  \"can2\",\n  \"tube\",\n  \"waterbottle\",\n  \"plasticbag\",\n  \"chipsbag\",\n  \"can\",\n  \"straw\",\n  \"battery\",\n  \"beerholder\",\n  \"waterbottle\"\n]\n;","\"use strict\";\n\nwindow.addEventListener(\"DOMContentLoaded\", init);\n\nimport myJsonImport from \"/static/garbage.json\";\n\nconsole.log(myJsonImport);\n\nlet action = \"\";\nlet myJSON;\nlet playerHealth = 3;\nlet collectedTrash = 0;\nlet isGameOver = false;\nconst gameContainer = document.querySelector(\"#game_container\");\n\nfunction init() {\n  console.log(\"init kørt\");\n  console.log(myJsonImport);\n  document\n    .querySelector(\"#game_container\")\n    .addEventListener(\"mousedown\", windowClicked);\n  // getJSON();\n  createElements();\n}\n\n// function getJSON() {\n//   fetch(\"garbage.json\")\n//     .then(jsonData => jsonData.json())\n//     .then(jsonData => {\n//       myJSON = jsonData;\n//       createElements();\n//     });\n// }\n\nfunction createElements() {\n  myJsonImport.forEach(element => {\n    let newDiv = document.createElement(\"div\");\n    newDiv.classList.add(\"element\");\n    newDiv.dataset.status = \"trash\";\n    newDiv.dataset.action = \"remove\";\n    newDiv.style.backgroundImage = `url(\"${element}.svg\")`;\n    // newDiv.style.backgroundColor = \"red\";\n    gameContainer.appendChild(newDiv);\n  });\n  placeElements();\n}\n\nfunction windowClicked(e) {\n  console.log(\"windowclicked kørt\");\n  action = e.target.dataset.action;\n\n  if (action === \"remove\") {\n    console.log(\"if statement kørt\");\n    removeElement(e);\n    incrementCounter();\n  }\n  if (action === \"start\") {\n    startGame();\n  }\n\n  console.log(action);\n}\n\nfunction placeElements() {\n  const elementArray = document.querySelectorAll(\"[data-status=trash]\");\n\n  console.log(gameContainer.clientWidth);\n\n  // place elements randomly on X axis using transform translate\n  for (let counter = 0; counter < elementArray.length; counter++) {\n    let stringifyNumb = getCoordinateWithinBox(\n      gameContainer,\n      elementArray[counter]\n    ).toString();\n\n    elementArray[\n      counter\n    ].style.transform = `translate(${stringifyNumb}px, -200px)`;\n  }\n}\n\nfunction getCoordinateWithinBox(container, elem) {\n  return Math.floor(Math.random() * (container.clientWidth - elem.clientWidth));\n}\n\nfunction startGame() {\n  console.log(\"startGame kørt\");\n  // Can this be done by using forEach? note the delay!\n  playerHealthStatus();\n  checkValidity();\n}\n\nfunction checkValidity() {\n  const elementArray = document.querySelectorAll(\"[data-status=trash]\");\n  for (let counter = 0; counter < elementArray.length; counter++) {\n    setTimeout(() => {\n      checkHealth(elementArray[counter], counter);\n    }, 1000 * counter);\n  }\n}\nfunction checkHealth(element, counter) {\n  // console.log(playerHealth);\n  if (!isGameOver && playerHealth === 0) {\n    isGameOver = true;\n    gameOver();\n  } else {\n    addAnimation(element, counter);\n  }\n}\n\nfunction addAnimation(element, counter) {\n  // console.log(element);\n  let Xpos = element.getBoundingClientRect().x;\n  let gameContainerXpos = gameContainer.getBoundingClientRect().x;\n\n  if (counter <= 5) {\n    // element.classList.add(\"floatDown\");\n    element.style.transform = `translate(${Xpos - gameContainerXpos}px, 580px)`;\n    element.classList.add(\"float_speed_1\");\n  }\n  if (counter > 5 && counter <= 10) {\n    element.style.transform = `translate(${Xpos - gameContainerXpos}px, 580px)`;\n    element.classList.add(\"float_speed_2\");\n  }\n  if (counter >= 11 && counter <= 15) {\n    element.style.transform = `translate(${Xpos - gameContainerXpos}px, 580px)`;\n    element.classList.add(\"float_speed_3\");\n  }\n  if (counter >= 16 && counter <= 31) {\n    element.style.transform = `translate(${Xpos - gameContainerXpos}px, 580px)`;\n    element.classList.add(\"float_speed_4\");\n  }\n}\n\nfunction playerHealthStatus() {\n  console.log(\"playerHealthStatus\");\n  const elementArray = document.querySelectorAll(\"[data-status=trash]\");\n  elementArray.forEach(element => {\n    element.addEventListener(\"transitionend\", () => {\n      element.style.pointerEvents = \"none\";\n      if (element.dataset.status === \"trash\") {\n        playerHealth--;\n        decreaseHealth();\n        console.log(playerHealth);\n      }\n    });\n  });\n}\n\nfunction decreaseHealth() {\n  const healthBar = document.querySelector(\"[data-status=no-damage]\");\n}\n\nfunction gameOver() {\n  //\n  const elementArray = document.querySelectorAll(\"[data-status=trash]\");\n  elementArray.forEach(element => {\n    element.dataset.status = \"clean\";\n  });\n  console.log(\"gameover\");\n}\n\nfunction removeElement(e) {\n  // console.log(e);\n  // console.log(\"removeElement kørt\");\n  // add if statement that defines that if the element is too far down on the page then it can't be clicked\n  e.target.dataset.status = \"clean\";\n  e.target.style.backgroundColor = \"initial\";\n  e.target.style.backgroundImage = 'url(\"../img/bubbles.png\")';\n  // reset placement to be the original one\n  let posX = e.target.getBoundingClientRect().x;\n  e.target.style.transform = `translate(${posX}px, -200px)`;\n}\n\nfunction incrementCounter() {\n  collectedTrash++;\n  document.querySelector(\"#score h1\").textContent = collectedTrash;\n  // Add counter to field in HTML to show amount of pieces collected\n  // console.log(collectedTrash);\n}\n"]}